{"version":3,"sources":["scripts/ai2html-resizer.js"],"names":["resizer","elements","document","querySelectorAll","widthById","forEach","el","parent","parentNode","width","id","getBoundingClientRect","minwidth","getAttribute","maxwidth","style","display","documentElement","classList","contains","add","window","addEventListener","throttle","func","wait","timeout","context","args","result","options","previous","now","Date","getTime","later","leading","apply","_now","remaining","arguments","clearTimeout","trailing","setTimeout"],"mappings":";AAiGC,aA5FD,SAASA,IACP,MAAMC,EAAWC,SAASC,iBAAiB,+BACrCC,EAAY,GAElBH,EAASI,QAAQC,IACf,MAAMC,EAASD,EAAGE,WACZC,EAAQL,EAAUG,EAAOG,KAAOH,EAAOI,wBAAwBF,MAC/DG,EAAWN,EAAGO,aAAa,kBAC3BC,EAAWR,EAAGO,aAAa,kBAEjCT,EAAUG,EAAOG,IAAMD,EAErBH,EAAGS,MAAMC,SADNJ,GAAYH,KAAWK,GAAYL,GAAsB,OAAbK,GAC5B,QAEA,SAMV,SAAY,IAErBZ,SAASe,gBAAgBC,UAAUC,SAAS,uBAChDjB,SAASe,gBAAgBC,UAAUE,IAAI,qBAEvCpB,IACAqB,OAAOC,iBAAiB,SAAUC,EAASvB,EAAS,OAgCtD,SAASuB,EAASC,EAAMC,GAAoB,IACtCC,EAASC,EAASC,EAAMC,EADAC,EAAU,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAElCC,EAAW,EAEf,MAAMC,EAAMC,KAAKD,KAAQ,MAAM,IAAIC,MAAOC,WAEpCC,EAAQ,WACZJ,GAA+B,IAApBD,EAAQM,QAAoB,EAAIJ,IAC3CN,EAAU,KACVG,EAASL,EAAKa,MAAMV,EAASC,GACxBF,IAASC,EAAUC,EAAO,OAuBjC,OApBkB,WAChB,MAAMU,EAAON,IACRD,IAAgC,IAApBD,EAAQM,UAAmBL,EAAWO,GACvD,MAAMC,EAAYd,GAAQa,EAAOP,GAcjC,OAbAJ,EAAU,KACVC,EAAOY,UACHD,GAAa,GAAKA,EAAYd,GAC5BC,IACFe,aAAaf,GACbA,EAAU,MAEZK,EAAWO,EACXT,EAASL,EAAKa,MAAMV,EAASC,GACxBF,IAASC,EAAUC,EAAO,OACrBF,IAAgC,IAArBI,EAAQY,WAC7BhB,EAAUiB,WAAWR,EAAOI,IAEvBV,GAIV,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA","file":"ai2html-resizer.156db1cd.js","sourceRoot":"..\\src","sourcesContent":["/**\r\n * Resizer script to toggle multiple artboards for responsiveness. Adapted from:\r\n * https://github.com/newsdev/ai2html/blob/gh-pages/_includes/resizer-script.html\r\n */\r\n\r\nfunction resizer() {\r\n  const elements = document.querySelectorAll('.g-artboard[data-min-width]');\r\n  const widthById = {};\r\n\r\n  elements.forEach(el => {\r\n    const parent = el.parentNode;\r\n    const width = widthById[parent.id] || parent.getBoundingClientRect().width;\r\n    const minwidth = el.getAttribute('data-min-width');\r\n    const maxwidth = el.getAttribute('data-max-width');\r\n\r\n    widthById[parent.id] = width;\r\n    if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {\r\n      el.style.display = 'block';\r\n    } else {\r\n      el.style.display = 'none';\r\n    }\r\n  });\r\n}\r\n\r\n// Export ai2html resizer initialization to page.js\r\nexport default function () {\r\n  // only want one resizer on the page\r\n  if (document.documentElement.classList.contains('g-resizer-v3-init')) return;\r\n  document.documentElement.classList.add('g-resizer-v3-init');\r\n\r\n  resizer();\r\n  window.addEventListener('resize', throttle(resizer, 200));\r\n}\r\n\r\n/**\r\n * Throttle function adapted from underscore.js.\r\n *\r\n * Copyright (c) 2009-2020 Jeremy Ashkenas, DocumentCloud and Investigative\r\n * Reporters & Editors\r\n *\r\n * Permission is hereby granted, free of charge, to any person\r\n * obtaining a copy of this software and associated documentation\r\n * files (the \"Software\"), to deal in the Software without\r\n * restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n * OTHER DEALINGS IN THE SOFTWARE.\r\n * Terms\r\n */\r\n\r\nfunction throttle(func, wait, options = {}) {\r\n  let timeout, context, args, result;\r\n  let previous = 0;\r\n\r\n  const now = Date.now || (() => new Date().getTime());\r\n\r\n  const later = function () {\r\n    previous = options.leading === false ? 0 : now();\r\n    timeout = null;\r\n    result = func.apply(context, args);\r\n    if (!timeout) context = args = null;\r\n  };\r\n\r\n  const throttled = function () {\r\n    const _now = now();\r\n    if (!previous && options.leading === false) previous = _now;\r\n    const remaining = wait - (_now - previous);\r\n    context = this;\r\n    args = arguments;\r\n    if (remaining <= 0 || remaining > wait) {\r\n      if (timeout) {\r\n        clearTimeout(timeout);\r\n        timeout = null;\r\n      }\r\n      previous = _now;\r\n      result = func.apply(context, args);\r\n      if (!timeout) context = args = null;\r\n    } else if (!timeout && options.trailing !== false) {\r\n      timeout = setTimeout(later, remaining);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  return throttled;\r\n}\r\n"]}